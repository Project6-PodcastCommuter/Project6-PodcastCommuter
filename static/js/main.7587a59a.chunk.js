(this.webpackJsonpproject6=this.webpackJsonpproject6||[]).push([[0],{14:function(e,t,a){},36:function(e,t,a){e.exports=a(73)},41:function(e,t,a){},68:function(e,t,a){e.exports=a.p+"static/media/walk.e7acf7aa.svg"},69:function(e,t,a){e.exports=a.p+"static/media/bike.b805667a.svg"},70:function(e,t,a){e.exports=a.p+"static/media/logo.71d0d504.png"},71:function(e,t,a){e.exports=a.p+"static/media/headerDeskop.4f7ee2b2.svg"},72:function(e,t,a){e.exports=a.p+"static/media/headerMobile.f33000dc.svg"},73:function(e,t,a){"use strict";a.r(t);var o=a(0),r=a.n(o),n=a(12),l=a.n(n),s=(a(41),a(3)),c=a(4),i=a(5),m=a(7),u=a(6),p=a(8),d=(a(14),a(13)),h=a.n(d),v=a(34),f=function(){return r.a.createElement("div",{className:"preloaderContainer"},r.a.createElement("p",null,"Loading"),r.a.createElement("span",null,r.a.createElement("i",{className:"preloader fas fa-spinner"})))},E=a(2),g=a(35),N=a.n(g),y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).chooseBike=function(){var t=60*Number(e.state.routeResult.bicycle.travelHour)+Number(e.state.routeResult.bicycle.travelMinute);e.setState({commuteTime:t,isLoading:!0},(function(){var a=e.props,o=a.grabCommuteTime,r=a.routeSelected;o(t,r)})),setTimeout((function(){E.scroller.scrollTo("podcastResults",{offset:50,smooth:!0,duration:500})}),1e3)},e.chooseWalk=function(){var t=60*Number(e.state.routeResult.pedestrian.travelHour)+Number(e.state.routeResult.pedestrian.travelMinute);console.log(t),e.setState({commuteTime:t,isLoading:!0},(function(){var a=e.props,o=a.grabCommuteTime,r=a.routeSelected;o(t,r)})),setTimeout((function(){E.scroller.scrollTo("podcastResults",{offset:50,smooth:!0,duration:500})}),1e3)},e.state={routeType:"",routeResult:{},commuteTime:0,isLoading:!1},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;if((e.from!==this.props.from||e.to!==this.props.to)&&""!==this.props.from&&""!==this.props.to){var o=["pedestrian","bicycle"],r=!1,n=o.map((function(e){return h()({url:"https://www.mapquestapi.com/directions/v2/route",params:{key:"GjfNgstNA6zUKUgGcbkAzOwhHGvwyPRl",from:a.props.from,to:a.props.to,routeType:e},timeout:2e3}).catch((function(e){r=!0,console.log(r)}))}));Promise.all(n).then((function(e){if(console.log(e),!0===r&&N()("Oops!","Invalid location, please try again!","error"),!1===r){var t=e.reduce((function(e,t,r){var n=t.data.route.legs[0].formattedTime,l=n.slice(0,2),c=n.slice(3,5),i="https://www.mapquestapi.com/staticmap/v5/map?key=GjfNgstNA6zUKUgGcbkAzOwhHGvwyPRl&size=600,250@2x&defaultMarker=marker-sm-81003c-81003c&routeColor=ff7600&margin=60&type=map&start=".concat(a.props.from,"&end=").concat(a.props.to);return Object(v.a)({},e,Object(s.a)({},o[r],{travelHour:l,travelMinute:c,mapImage:i}))}),{});console.log("transformed response",t),console.log(Number(t.bicycle.travelHour+t.bicycle.travelMinute)),Number(t.bicycle.travelHour+t.bicycle.travelMinute==0)&&Number(t.pedestrian.travelHour+t.pedestrian.travelHour==0)?alert("time is 0"):a.setState({routeResult:t},(function(){(0,a.props.grabMapUrl)()}))}}))}}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},void 0===this.state.routeResult.bicycle&void 0===this.state.routeResult.pedestrian?r.a.createElement("div",{className:"placeholderMap",id:"mapResults"},r.a.createElement("div",{className:"emptyDiv wrapper"},r.a.createElement("h3",null,"Pick a mode of transportation"),r.a.createElement("div",null,r.a.createElement("p",{className:"scrollUp"},"Scroll up to make a search!")))):r.a.createElement("section",{className:"routeResults wrapper",id:"mapResults"},r.a.createElement("h3",null,"Pick a mode of transportation"),r.a.createElement("p",{className:"commuteText"},"Based off your commute, pick a mode of transportation"),r.a.createElement("div",{className:"mapContainer"},r.a.createElement("img",{className:"mapImage",src:this.state.routeResult.pedestrian.mapImage,alt:"Travel route map from start to end"})),r.a.createElement("div",{className:"commuteOptions"},r.a.createElement("div",{className:"commuteResult pedestrianResult"},r.a.createElement("img",{className:"mobileRouteTypeImg",src:a(68),alt:"Feet walking to show pedestrian option"}),r.a.createElement("button",{type:"submit",onClick:this.chooseWalk,className:"routeTypeButton"},"00"!==this.state.routeResult.pedestrian.travelHour?r.a.createElement("p",null,this.state.routeResult.pedestrian.travelHour," ","hrs"," ",this.state.routeResult.pedestrian.travelMinute," ","min"):r.a.createElement("p",null,this.state.routeResult.pedestrian.travelMinute," ","min")),r.a.createElement("p",{className:"recommendation"},"Walking is a great way to improve or maintain your overall health. Just 30 minutes every day can increase cardiovascular fitness, strengthen bones, reduce excess body fat, and boost muscle power and endurance")),r.a.createElement("div",{className:"commuteResult bicycleResult"},r.a.createElement("img",{alt:"Bicycle to show bike option",className:"mobileRouteTypeImg",src:a(69)}),r.a.createElement("button",{type:"submit",onClick:this.chooseBike,className:"routeTypeButton"},"00"!==this.state.routeResult.bicycle.travelHour?r.a.createElement("p",null,this.state.routeResult.bicycle.travelHour," hrs"," ",this.state.routeResult.bicycle.travelMinute," ","min"):r.a.createElement("p",null,this.state.routeResult.bicycle.travelMinute," ","min")),r.a.createElement("p",{className:"recommendation"},"Riding to work or the shops is one of the most time-efficient ways to combine regular exercise with your everyday routine. An estimated one billion people ride bicycles every day \u2013 for transport, recreation and sport."))),this.state.isLoading?r.a.createElement(f,null):null))}}]),t}(o.Component),b=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).selectedPodcast=function(t){var a=t.target.value,o=e.props.podData.filter((function(e){return e.podUrl===a}));e.setState({selectedPodcast:o[0]}),setTimeout((function(){E.scroller.scrollTo("finalPodcast",{offset:50,smooth:!0,duration:500})}),50)},e.state={selectedPodcast:[],podDescriptionSecond:""},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"podcastContent"},0===this.props.podData.length?r.a.createElement("div",{className:"placeholderPodcast",id:"podcastResults"},r.a.createElement("div",{className:"emptyDiv wrapper"},r.a.createElement("h3",null,"Pick a Podcast"),r.a.createElement("div",null,r.a.createElement("p",{className:"scrollUp"},"Scroll up to make a search!")))):r.a.createElement("section",{className:"wrapper",id:"podcastResults"},r.a.createElement("div",{className:"pickPodcast"},r.a.createElement("h3",null,"Pick a Podcast"),r.a.createElement("p",null,"Here are some podcasts that match your commute time.")),r.a.createElement("div",{className:"podcastResults"},this.props.podData.map((function(t,a){return r.a.createElement("div",{className:"podcastCard podcast"},r.a.createElement("div",null,r.a.createElement("img",{className:"podcastImg",src:t.podImage,alt:e.state.podTitle}),r.a.createElement("div",null,r.a.createElement("h4",null,t.podTitle),r.a.createElement("p",{className:"podcastTime"},Math.floor(t.podTime/60)," minutes")),r.a.createElement("p",null,t.podDescription),r.a.createElement("a",{href:t.podUrl,target:"_blank",className:"readMore"},"More Details")),r.a.createElement("div",null,r.a.createElement("button",{className:"choosePodcastButton podcastButton",onClick:e.selectedPodcast,value:t.podUrl},"Choose")))})))),0===this.state.selectedPodcast.length?r.a.createElement("div",{className:"placeholderPodcast finalPodcast",id:"finalPodcast"},r.a.createElement("div",{className:"emptyDiv wrapper"},r.a.createElement("h3",null,"Have a listen and enjoy your commute"),r.a.createElement("div",null,r.a.createElement("p",{className:"scrollUp"},"Scroll up to make a search!")))):r.a.createElement("section",{className:"wrapper",id:"finalPodcast"},r.a.createElement("div",null,r.a.createElement("h3",{className:"finalPodcastTag"},"Have a listen and enjoy your commute"),r.a.createElement("div",{className:"selectedAudio"},r.a.createElement("div",{className:"finalPodcastContent"},r.a.createElement("div",{className:"finalPodcastImage"},r.a.createElement("img",{src:this.state.selectedPodcast.podImage,alt:this.state.selectedPodcast.podTitle})),r.a.createElement("div",{className:"finalPodcastInfo"},r.a.createElement("h3",null,this.state.selectedPodcast.podTitle),r.a.createElement("p",null,this.state.selectedPodcast.podDescription),r.a.createElement("a",{href:this.state.selectedPodcast.podUrl,target:"_blank",className:"readMore"},"Read More"))),r.a.createElement("div",{class:"audioDiv"},r.a.createElement("audio",{className:"finalPodcastAudio",controls:!0,src:this.state.selectedPodcast.podAudio})))),r.a.createElement("a",{href:"#header",className:"refreshButton"},r.a.createElement("i",{class:"fas fa-arrow-up"}),r.a.createElement("label",{className:"visuallyHidden"},"Back to top"))))}}]),t}(o.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).grabCommuteTime=function(e,t){console.log(e),a.setState({appTime:e},t)},a.grabMapUrl=function(){console.log("loading"),a.setState({isLoading:!1})},a.routeSelected=function(){console.log("axios",a.state.appTime),h()({url:"https://listen-api.listennotes.com/api/v2/search",method:"GET",headers:{"X-ListenAPI-Key":"efedd950b2d84805a5c9ede9b4543e23"},dataResponse:"jsonp",params:{q:a.state.userInput,type:"episode",language:"English",len_min:a.state.appTime,len_max:a.state.appTime+5}}).then((function(e){if(console.log(e),console.log("podcast",e.data.count),0===e.data.count)alert("there is no podcast that meets our requirement");else{var t=[];e.data.results.map((function(e){return t.push({podData:e,podTitle:e.podcast_title_original,podDescription:e.title_original,podImage:e.image,podUrl:e.listennotes_url,podTime:e.audio_length_sec,podAudio:e.audio}),e})),a.setState({podData:t})}}))},a.handleMapChange=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))},a.handlePodcastChange=function(e){a.setState({userEntry:e.target.value},(function(){}))},a.handleSubmit=function(e){e.preventDefault(),e.target.reset();var t="".concat(a.state.fromStreet.trim(),", ").concat(a.state.fromCity.trim(),", ").concat(a.state.fromProvince),o="".concat(a.state.toStreet.trim(),", ").concat(a.state.toCity.trim(),", ").concat(a.state.toProvince);a.setState({fromCity:"",fromStreet:"",fromProvince:"",toCity:"",toProvince:"",toStreet:"",from:t,to:o,userInput:a.state.userEntry,userEntry:""}),setTimeout((function(){E.scroller.scrollTo("mapResults",{offset:80,smooth:!0,duration:500})}),500)},a.scrollToForm=function(){E.scroller.scrollTo("formInfo",{smooth:!0,duration:700})},a.state={userInput:"",appTime:0,fromStreet:"",fromCity:"",fromProvince:"",toStreet:"",toCity:"",toProvince:"",from:"",to:"",userEntry:"",podData:[],isLoading:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("nav",{className:"wrapper",id:"header"},r.a.createElement("img",{className:"logo",alt:"Logo for Podcast Commuter",src:a(70)}),r.a.createElement("ul",{className:"mainNav"},r.a.createElement("li",null,r.a.createElement("a",{href:"#formInfo"},"Search")),r.a.createElement("li",null,r.a.createElement("a",{href:"#mapResults"},"Results")),r.a.createElement("li",null,r.a.createElement("a",{href:"#podcastResults"},"Recommendations")),r.a.createElement("li",null,r.a.createElement("a",{href:"#finalPodcast"},"Listen"))),r.a.createElement("i",{class:"fas fa-bars"})),r.a.createElement("div",{className:"headerContent wrapper"},r.a.createElement("div",{className:"headerInfo"},r.a.createElement("h1",null,"Podcast Commuter"),r.a.createElement("h2",{className:"headerDescriptionMobile"},"Find podcasts that suit your length of commute"),r.a.createElement("button",{onClick:this.scrollToForm},"Start")),r.a.createElement("div",{className:"headerImage"},r.a.createElement("img",{alt:"Person walking through park listening to podcast",className:"desktopImg",src:a(71)}),r.a.createElement("img",{alt:"Person walking listening to podcast",className:"mobileImg",src:a(72)})))),r.a.createElement("section",{className:"wrapper mobileMap"},r.a.createElement("div",{className:"formInfo",id:"formInfo"},r.a.createElement("h3",null,"Let's find some podcasts."),r.a.createElement("p",null,"Enter your starting and ending location, along with what type of podcast you\u2019re in the mood for. We will calculate your commute time, and ask your to select your preferred mode of transportation. Based on the time of your trip, we will give you some podcast recommendations.")),r.a.createElement("form",{action:"",onSubmit:this.handleSubmit,className:"mapForm"},r.a.createElement("div",{className:"mapInput"},r.a.createElement("input",{className:"address",type:"text",id:"fromStreet",name:"fromStreet",placeholder:"Starting address",value:this.state.fromStreet,onChange:this.handleMapChange,required:!0}),r.a.createElement("input",{className:"city",type:"text",id:"fromCity",name:"fromCity",placeholder:"Starting city",value:this.state.fromCity,onChange:this.handleMapChange,required:!0}),r.a.createElement("select",{className:"province",name:"fromProvince",id:"fromProvince",onChange:this.handleMapChange,required:!0},r.a.createElement("option",{value:""},"Prov"),r.a.createElement("option",{value:"ON"},"ON"),r.a.createElement("option",{value:"BC"},"BC"),r.a.createElement("option",{value:"QC"},"QC"),r.a.createElement("option",{value:"NS"},"NS"),r.a.createElement("option",{value:"NB"},"NB"),r.a.createElement("option",{value:"AB"},"AB"),r.a.createElement("option",{value:"PE"},"PE"),r.a.createElement("option",{value:"SK"},"SK"),r.a.createElement("option",{value:"NL"},"NL"),r.a.createElement("option",{value:"MB"},"MB"),r.a.createElement("option",{value:"NT"},"NT"),r.a.createElement("option",{value:"YT"},"YT"),r.a.createElement("option",{value:"NU"},"NU"))),r.a.createElement("div",{class:"mapInput"},r.a.createElement("input",{className:"address",type:"text",id:"toStreet",name:"toStreet",placeholder:"Destination address",value:this.state.toStreet,onChange:this.handleMapChange,required:!0}),r.a.createElement("input",{className:"city",type:"text",id:"toCity",name:"toCity",placeholder:"Destination city",value:this.state.toCity,onChange:this.handleMapChange,required:!0}),r.a.createElement("select",{className:"province",name:"toProvince",id:"toProvince",onChange:this.handleMapChange,required:!0},r.a.createElement("option",{value:""},"Prov"),r.a.createElement("option",{value:"ON"},"ON"),r.a.createElement("option",{value:"BC"},"BC"),r.a.createElement("option",{value:"QC"},"QC"),r.a.createElement("option",{value:"NS"},"NS"),r.a.createElement("option",{value:"NB"},"NB"),r.a.createElement("option",{value:"AB"},"AB"),r.a.createElement("option",{value:"PE"},"PE"),r.a.createElement("option",{value:"SK"},"SK"),r.a.createElement("option",{value:"NL"},"NL"),r.a.createElement("option",{value:"MB"},"MB"),r.a.createElement("option",{value:"NT"},"NT"),r.a.createElement("option",{value:"YT"},"YT"),r.a.createElement("option",{value:"NU"},"NU"))),r.a.createElement("div",{className:"podcastSearch"},r.a.createElement("input",{type:"text",placeholder:"Search for a Podcast",onChange:this.handlePodcastChange,value:this.state.userEntry,required:!0})),r.a.createElement("div",null,r.a.createElement("button",{className:"mapSubmitButton"},"Search")))),this.state.isLoading?r.a.createElement(f,null):null,r.a.createElement(y,{grabCommuteTime:this.grabCommuteTime,grabMapUrl:this.grabMapUrl,from:this.state.from,to:this.state.to,routeSelected:this.routeSelected}),r.a.createElement(b,{time:this.state.appTime,userInput:this.state.userInput,podData:this.state.podData}))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.7587a59a.chunk.js.map