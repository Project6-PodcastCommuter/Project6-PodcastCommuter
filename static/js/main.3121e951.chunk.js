(this.webpackJsonpproject6=this.webpackJsonpproject6||[]).push([[0],{21:function(e,t,a){e.exports=a(44)},26:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(19),i=a.n(r),l=(a(26),a(2)),s=a(3),c=a(4),u=a(6),m=a(5),p=a(7),d=(a(9),a(8)),h=a.n(d),v=a(20),E=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).chooseBike=function(){var t=60*Number(e.state.routeResult.bicycle.travelHour)+Number(e.state.routeResult.bicycle.travelMinute);e.setState({commuteTime:t},(function(){var a=e.props,o=a.grabCommuteTime,n=a.routeSelected;o(t,n)}))},e.chooseWalk=function(){var t=60*Number(e.state.routeResult.pedestrian.travelHour)+Number(e.state.routeResult.pedestrian.travelMinute);console.log(t),e.setState({commuteTime:t},(function(){var a=e.props,o=a.grabCommuteTime,n=a.routeSelected;o(t,n)}))},e.state={routeType:"",routeResult:{},commuteTime:0,isLoading:!1},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;if(e.from!=this.props.from&&""!==this.props.from&&""!==this.props.to){var o=["pedestrian","bicycle"],n=o.map((function(e){return h()({url:"http://www.mapquestapi.com/directions/v2/route",params:{key:"GjfNgstNA6zUKUgGcbkAzOwhHGvwyPRl",from:a.props.from,to:a.props.to,routeType:e}})}));Promise.all(n).then((function(e){console.log(e);var t=e.reduce((function(e,t,n){var r=t.data.route.legs[0].formattedTime,i=r.slice(0,2),s=r.slice(3,5),c="https://www.mapquestapi.com/staticmap/v5/map?key=GjfNgstNA6zUKUgGcbkAzOwhHGvwyPRl&size=600,250@2x&defaultMarker=marker-sm-81003c-81003c&routeColor=ff7600&type=map&start=".concat(a.props.from,"&end=").concat(a.props.to);return Object(v.a)({},e,Object(l.a)({},o[n],{travelHour:i,travelMinute:s,mapImage:c}))}),{});a.setState({routeResult:t})}))}}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},void 0===this.state.routeResult.bicycle&void 0===this.state.routeResult.pedestrian?null:n.a.createElement("div",{className:"routeResults"},n.a.createElement("div",{className:"mapContainer"},n.a.createElement("img",{src:this.state.routeResult.pedestrian.mapImage,alt:"Travel route map from start to end"})),n.a.createElement("div",{className:"pedestrianResult"},"00"!==this.state.routeResult.pedestrian.travelHour?n.a.createElement("p",null,"It's going to take ",this.state.routeResult.pedestrian.travelHour," hrs ",this.state.routeResult.pedestrian.travelMinute," minutes to walk."):n.a.createElement("p",null,"It's going to take ",this.state.routeResult.pedestrian.travelMinute," minutes to walk."),n.a.createElement("button",{type:"submit",onClick:this.chooseWalk,alt:""},"Walk")),n.a.createElement("div",{className:"bicycleResult"},"00"!==this.state.routeResult.bicycle.travelHour?n.a.createElement("p",null,"It's going to take ",this.state.routeResult.bicycle.travelHour," hrs ",this.state.routeResult.bicycle.travelMinute," minutes to bike."):n.a.createElement("p",null,"It's going to take ",this.state.routeResult.bicycle.travelMinute," minutes to bike."),n.a.createElement("button",{type:"submit",onClick:this.chooseBike,alt:""},"Bike"))))}}]),t}(o.Component),f=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={podData:[]},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"podcastContent"},n.a.createElement("div",null,this.props.podData.map((function(t){return n.a.createElement("div",null,n.a.createElement("h3",null,t.podTitle),n.a.createElement("p",null,t.podDescription),n.a.createElement("p",null,t.podUrl),n.a.createElement("img",{src:t.podImage,alt:e.state.podTitle}),n.a.createElement("p",null,Math.floor(t.podTime/60)," minutes"),n.a.createElement("audio",{controls:!0,src:t.podAudio}))}))))}}]),t}(o.Component),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).grabCommuteTime=function(e,t){console.log(e),a.setState({appTime:e},t)},a.routeSelected=function(){console.log("axios",a.state.appTime),h()({url:"https://listen-api.listennotes.com/api/v2/search",method:"GET",headers:{"X-ListenAPI-Key":"efedd950b2d84805a5c9ede9b4543e23"},dataResponse:"jsonp",params:{q:a.state.userInput,type:"episode",language:"English",len_min:a.state.appTime,len_max:a.state.appTime+5}}).then((function(e){console.log(e);var t=[];e.data.results.map((function(e){return t.push({podData:e,podTitle:e.title_original,podDescription:e.description_original,podImage:e.image,podUrl:e.podcast_listennotes_url,podTime:e.audio_length_sec,podAudio:e.audio}),e})),a.setState({podData:t})}))},a.handleMapChange=function(e){a.setState(Object(l.a)({},e.target.name,e.target.value))},a.handlePodcastChange=function(e){a.setState({userEntry:e.target.value},(function(){}))},a.handleSubmit=function(e){e.preventDefault();var t="".concat(a.state.fromStreet.trim(),", ").concat(a.state.fromCity.trim(),", ").concat(a.state.fromProvince),o="".concat(a.state.toStreet.trim(),", ").concat(a.state.toCity.trim(),", ").concat(a.state.toProvince);a.setState({from:t,to:o,userInput:a.state.userEntry})},a.state={userInput:"",appTime:0,fromStreet:"",fromCity:"",fromProvince:"",toStreet:"",toCity:"",toProvince:"",from:"",to:"",userEntry:"",podData:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("form",{action:"",onSubmit:this.handleSubmit,className:"mapForm"},n.a.createElement("label",{htmlFor:"from"},"Start"),n.a.createElement("input",{type:"text",id:"fromStreet",name:"fromStreet",placeholder:"enter street name",value:this.state.fromStreet,onChange:this.handleMapChange}),n.a.createElement("input",{type:"text",id:"fromCity",name:"fromCity",placeholder:"enter city",value:this.state.fromCity,onChange:this.handleMapChange}),n.a.createElement("select",{name:"fromProvince",id:"fromProvince",onChange:this.handleMapChange},n.a.createElement("option",{value:""},"Choose Province/Territory"),n.a.createElement("option",{value:"ON"},"Ontario"),n.a.createElement("option",{value:"BC"},"British Columbia"),n.a.createElement("option",{value:"QC"},"Quebec"),n.a.createElement("option",{value:"NS"},"Nova Scotia"),n.a.createElement("option",{value:"NB"},"New Brunswick"),n.a.createElement("option",{value:"AB"},"Alberta"),n.a.createElement("option",{value:"PE"},"Prince Edward Island"),n.a.createElement("option",{value:"SK"},"Saskatchewan"),n.a.createElement("option",{value:"NL"},"Newfoundland and Labrador"),n.a.createElement("option",{value:"MB"},"Manitoba"),n.a.createElement("option",{value:"NT"},"Northwest Territories"),n.a.createElement("option",{value:"YT"},"Yukon"),n.a.createElement("option",{value:"NU"},"Nunavut")),n.a.createElement("label",{htmlFor:"end"},"End"),n.a.createElement("input",{type:"text",id:"toStreet",name:"toStreet",placeholder:"enter street name",value:this.state.toStreet,onChange:this.handleMapChange}),n.a.createElement("input",{type:"text",id:"toCity",name:"toCity",placeholder:"enter city",value:this.state.toCity,onChange:this.handleMapChange}),n.a.createElement("select",{name:"toProvince",id:"toProvince",onChange:this.handleMapChange},n.a.createElement("option",{value:""},"Choose Province/Territory"),n.a.createElement("option",{value:"ON"},"Ontario"),n.a.createElement("option",{value:"BC"},"British Columbia"),n.a.createElement("option",{value:"QC"},"Quebec"),n.a.createElement("option",{value:"NS"},"Nova Scotia"),n.a.createElement("option",{value:"NB"},"New Brunswick"),n.a.createElement("option",{value:"AB"},"Alberta"),n.a.createElement("option",{value:"PE"},"Prince Edward Island"),n.a.createElement("option",{value:"SK"},"Saskatchewan"),n.a.createElement("option",{value:"NL"},"Newfoundland and Labrador"),n.a.createElement("option",{value:"MB"},"Manitoba"),n.a.createElement("option",{value:"NT"},"Northwest Territories"),n.a.createElement("option",{value:"YT"},"Yukon"),n.a.createElement("option",{value:"NU"},"Nunavut")),n.a.createElement("input",{type:"text",className:"podcastSearch",placeholder:"Search",onChange:this.handlePodcastChange,value:this.state.userEntry}),n.a.createElement("button",{className:"mapSubmitButton"},"Submit")),n.a.createElement(E,{grabCommuteTime:this.grabCommuteTime,from:this.state.from,to:this.state.to,routeSelected:this.routeSelected}),n.a.createElement(f,{time:this.state.appTime,userInput:this.state.userInput,podData:this.state.podData}))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){}},[[21,1,2]]]);
//# sourceMappingURL=main.3121e951.chunk.js.map